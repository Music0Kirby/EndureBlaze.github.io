<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>炎忍的博客</title>
  
  <subtitle>记录 我的生活 以及更多</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.endureblaze.cn/"/>
  <updated>2019-09-29T12:18:22.839Z</updated>
  <id>https://blog.endureblaze.cn/</id>
  
  <author>
    <name>汝南京</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Kirby Assistant 2.x.x更新日志</title>
    <link href="https://blog.endureblaze.cn/posts/417dae5e/"/>
    <id>https://blog.endureblaze.cn/posts/417dae5e/</id>
    <published>2019-09-10T04:51:28.000Z</published>
    <updated>2019-09-29T12:18:22.839Z</updated>
    
    <content type="html"><![CDATA[<p>目前最新版本 v2.0.1 (51)</p><a id="more"></a> <h3 id="v2-0-0-51"><a href="#v2-0-0-51" class="headerlink" title="v2.0.0 (51)"></a>v2.0.0 (51)</h3><p>1.自动根据 AndroidQ 夜间模式选项切换夜间模式<br>2.翻译文本修正<br>3.图片资源修复</p><h3 id="v2-0-0-50"><a href="#v2-0-0-50" class="headerlink" title="v2.0.0 (50)"></a>v2.0.0 (50)</h3><p>1.全新api重新编写<br>2.大部分 MD2 特性<br>3.修复底栏切换过快崩溃的bug<br>4.新增黑暗模式<br>5.假装无缝切换主题<br>6.优化用户信息修改后刷新操作<br>7.优化菜单显示方式<br>8.防止未登录情况下进入闲聊的问题<br>9.重新优化的对话框<br>10.应用内清除缓存<br>11.重写头像裁剪<br>12.上传逻辑<br>13.全新官网 </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;目前最新版本 v2.0.1 (51)&lt;/p&gt;
    
    </summary>
    
      <category term="我的 Android 应用" scheme="https://blog.endureblaze.cn/categories/%E6%88%91%E7%9A%84-Android-%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="Kirby Assistant" scheme="https://blog.endureblaze.cn/tags/Kirby-Assistant/"/>
    
      <category term="更新日志" scheme="https://blog.endureblaze.cn/tags/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>动态替换 ViewPager 里面的 Fragment</title>
    <link href="https://blog.endureblaze.cn/posts/6b0c894/"/>
    <id>https://blog.endureblaze.cn/posts/6b0c894/</id>
    <published>2019-08-17T05:40:28.000Z</published>
    <updated>2019-08-17T06:11:44.158Z</updated>
    
    <content type="html"><![CDATA[<p>最近在重写 Kirby Assistant 过程中又遇到了需要动态替换 ViewPager 的某个 Fragment 的需求，因为之前的是直接在同一个布局里暴力替换的，但是这次因为是用其他方法实现的，当然不能用以前的方法了，摸索了一段时间后终于搞定了，现在把可以用的方法放在下面</p><a id="more"></a><h2 id="1-准备过程"><a href="#1-准备过程" class="headerlink" title="1. 准备过程"></a>1. 准备过程</h2><p>首先需要在布局中添加 ViewPager </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.viewpager.widget.ViewPager</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:id</span>=<span class="string">"@+id/main_fragment_viewpager"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>然后给 ViewPager 写一个 ViewPagerAdapter 并且继承自 FragmentPagerAdapter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewPagerAdapter</span> <span class="keyword">extends</span> <span class="title">FragmentPagerAdapter</span> </span>&#123;</span><br><span class="line"><span class="comment">//其他东西</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-重写-ViewPagerAdapter"><a href="#2-重写-ViewPagerAdapter" class="headerlink" title="2. 重写 ViewPagerAdapter"></a>2. 重写 ViewPagerAdapter</h2><p>具体看代码的注释，有注释的都是需要注意的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewPagerAdapter</span> <span class="keyword">extends</span> <span class="title">FragmentPagerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> FragmentManager fm;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Fragment&gt; fragments;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; page_title;<span class="comment">//这个是对应碎片的标题，可以不需要</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewPagerAdapter</span><span class="params">(FragmentManager fm, List&lt;Fragment&gt; fragments,List&lt;String&gt; page_title)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(fm);</span><br><span class="line">        <span class="keyword">this</span>.fm=fm;</span><br><span class="line">        <span class="keyword">this</span>.fragments=fragments;</span><br><span class="line">        <span class="keyword">this</span>.page_title=page_title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意这个方法，这个是配置你在哪个碎片上进行替换</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">instantiateItem</span><span class="params">(@NonNull ViewGroup container, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//这里的判断说明的是在三个和第四个碎片上替换</span></span><br><span class="line"><span class="keyword">if</span> (position == <span class="number">2</span>||position == <span class="number">3</span>)</span><br><span class="line">            removeFragment(container,position);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.instantiateItem(container, position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这个方法就是通过 Tag 来判断碎片是不是原来的，如果不是就进行替换</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">removeFragment</span><span class="params">(ViewGroup container,<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        String tag = getFragmentTag(container.getId(), index);</span><br><span class="line">        Fragment fragment = fm.findFragmentByTag(tag);</span><br><span class="line">        <span class="keyword">if</span> (fragment == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        FragmentTransaction ft = fm.beginTransaction();</span><br><span class="line">        ft.remove(fragment);</span><br><span class="line">        ft.commit();</span><br><span class="line">        ft = <span class="keyword">null</span>;</span><br><span class="line">        fm.executePendingTransactions();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fragment <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fragments.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fragments.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意写成这样才可以进行刷新</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemPosition</span><span class="params">(@NonNull Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> PagerAdapter.POSITION_NONE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CharSequence <span class="title">getPageTitle</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> page_title.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//禁止销毁view达到复用</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroyItem</span><span class="params">(@NonNull ViewGroup container, <span class="keyword">int</span> position, @NonNull Object object)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">//获取碎片的tag</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getFragmentTag</span><span class="params">(<span class="keyword">int</span> viewId, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;FragmentPagerAdapter&gt; cls = FragmentPagerAdapter.class;</span><br><span class="line">            Class&lt;?&gt;[] parameterTypes = &#123; <span class="keyword">int</span>.class, <span class="keyword">long</span>.class &#125;;</span><br><span class="line">            Method method = cls.getDeclaredMethod(<span class="string">"makeFragmentName"</span>,</span><br><span class="line">                    parameterTypes);</span><br><span class="line">            method.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            String tag = (String) method.invoke(<span class="keyword">this</span>, viewId, index);</span><br><span class="line">            <span class="keyword">return</span> tag;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-注意问题"><a href="#3-注意问题" class="headerlink" title="3. 注意问题"></a>3. 注意问题</h2><p>如果出现替换后出现某个碎片的布局空白了，那就设置一个 ViewPager 的缓存属性</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main_fragment_viewpager.setOffscreenPageLimit(<span class="number">4</span>);<span class="comment">//4代表缓存4页，根据实际情况调整</span></span><br></pre></td></tr></table></figure><h2 id="4-结尾"><a href="#4-结尾" class="headerlink" title="4. 结尾"></a>4. 结尾</h2><p>如果有代码什么问题可以向我提出</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在重写 Kirby Assistant 过程中又遇到了需要动态替换 ViewPager 的某个 Fragment 的需求，因为之前的是直接在同一个布局里暴力替换的，但是这次因为是用其他方法实现的，当然不能用以前的方法了，摸索了一段时间后终于搞定了，现在把可以用的方法放在下面&lt;/p&gt;
    
    </summary>
    
      <category term="编程" scheme="https://blog.endureblaze.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="踩坑" scheme="https://blog.endureblaze.cn/tags/%E8%B8%A9%E5%9D%91/"/>
    
      <category term="Android" scheme="https://blog.endureblaze.cn/tags/Android/"/>
    
      <category term="ViewPager" scheme="https://blog.endureblaze.cn/tags/ViewPager/"/>
    
      <category term="Fragment" scheme="https://blog.endureblaze.cn/tags/Fragment/"/>
    
  </entry>
  
  <entry>
    <title>实现滑动隐藏 ToolBar 与 BottomNavigation</title>
    <link href="https://blog.endureblaze.cn/posts/919199f6/"/>
    <id>https://blog.endureblaze.cn/posts/919199f6/</id>
    <published>2019-08-09T15:23:00.000Z</published>
    <updated>2019-08-29T05:39:04.031Z</updated>
    
    <content type="html"><![CDATA[<p>最近在重写 Kirby Assistant 的时候需要实现像图中的效果，那这样的效果具体应该怎么实现呢，快点进来看看吧。(图在里面)</p><a id="more"></a><p>(这里有图，Github 可能速度比较慢)<br><img alt="最终效果" data-src="/blog_image/%E5%AE%9E%E7%8E%B0%E6%BB%91%E5%8A%A8%E9%9A%90%E8%97%8FToolBar%E4%B8%8EBottomNavigation/%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C.gif"></p><h2 id="1-准备过程"><a href="#1-准备过程" class="headerlink" title="1. 准备过程"></a>1. 准备过程</h2><p>首先这样的效果都是基<code>CoordinatorLayout</code>来实现的，所以先在<code>app</code>模块下添加如下依赖</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">'androidx.coordinatorlayout:coordinatorlayout:1.1.0-beta01'</span><span class="comment">//版本可能不是最新，根据自身情况选择新版</span></span><br></pre></td></tr></table></figure><p>然后将需要实现这个效果界面的布局最顶层的布局替换为<code>CoordinatorLayout</code>即</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--可能会有其他的组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>到此，准备过程就完成了</p><h2 id="2-实现隐藏-Toolbar"><a href="#2-实现隐藏-Toolbar" class="headerlink" title="2. 实现隐藏 Toolbar"></a>2. 实现隐藏 Toolbar</h2><p>首先在上面的基础上需要添加 Toolbar 组件，如</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.google.android.material.appbar.AppBarLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/mainAppBarLayout"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">android:elevation</span>=<span class="string">"4dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:popupTheme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|enterAlways|snap"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--上面这行重点--&gt;</span></span><br><span class="line">   </span><br><span class="line">        <span class="tag">&lt;/<span class="name">androidx.appcompat.widget.Toolbar</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.google.android.material.appbar.AppBarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--可能会有其他的组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>那么这里需要说明一下<code>app:layout_scrollFlags=&quot;scroll|enterAlways|snap&quot;</code>是什么意思，这个实际上是用来控制 AppBarLayout 内部组件的行为。        </p><p>其中,<code>scroll</code>表示当界面向上滚动的时候, Toolbar会<br>跟着一起向上滚动并实现隐藏。</p><p><code>enterAlways</code>表示当界面向下滚动的时候, Toolbar会跟着一起向下滚动并重新显示。</p><p><code>snap</code>表示当 Toolbar还没有完全隐藏或显示的时候,会根据当前滚动的距离,自动选择是隐藏还是显示。</p><p>当然还有其他参数，但是比较少用</p><p>接着添加另外一个组件，例如 RecyclerView</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--AppBarLayout相关组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.recyclerview.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/main_rlv"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--重点--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--可能会有其他的组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可以看到这里指定了一个<code>app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;</code>那么这个属性实际上是谷歌封装好的一个 Behavior，已经完成了 Toolbar 隐藏所有动画效果。</p><h2 id="3-实现隐藏-BottomNavigation"><a href="#3-实现隐藏-BottomNavigation" class="headerlink" title="3. 实现隐藏 BottomNavigation"></a>3. 实现隐藏 BottomNavigation</h2><p>BottomNavigation 的话，谷歌没有进行封装，需要我们自己实现，那么先在布局添加 BottomNavigation 组件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--AppBarLayout相关组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--RecyclerView组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">com.google.android.material.bottomnavigation.BottomNavigationView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/main_bottom_navigation_bar"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"bottom"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"?android:attr/windowBackground"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:elevation</span>=<span class="string">"8dp"</span>                            <span class="attr">app:layout_behavior</span>=<span class="string">"cn.endureblaze.kirby.main.BottomNavigationBehavior"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:menu</span>=<span class="string">"@menu/main_bottom_navigation_menu"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:labelVisibilityMode</span>=<span class="string">"labeled"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>那么可以看到这里指定了一个<code>app:layout_behavior=&quot;cn.endureblaze.kirby.main.BottomNavigationBehavior&quot;</code><br>这实际上是指定了一个自定义 behavior，数值需要填上绝对路径</p><p>那么来看看 BottomNavigationBehavior 是怎么写的吧</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BottomNavigationBehavior</span>&lt;<span class="title">V</span> <span class="keyword">extends</span> <span class="title">View</span>&gt;  <span class="keyword">extends</span> <span class="title">CoordinatorLayout</span>.<span class="title">Behavior</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> lastStartedType;</span><br><span class="line">    <span class="keyword">private</span> ValueAnimator offsetAnimator;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isSnappingEnabled = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BottomNavigationBehavior</span> <span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BottomNavigationBehavior</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSnappingEnabled</span><span class="params">(<span class="keyword">boolean</span> isEnabled)</span> </span>&#123;</span><br><span class="line">        isSnappingEnabled = isEnabled;</span><br><span class="line">        lastStartedType = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (offsetAnimator != <span class="keyword">null</span>) &#123;</span><br><span class="line">            offsetAnimator.cancel();</span><br><span class="line">            offsetAnimator = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">expand</span><span class="params">(CoordinatorLayout coordinatorLayout, V child)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] consumed = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span> curIsSnappingEnabled = isSnappingEnabled;</span><br><span class="line">        <span class="keyword">if</span>(curIsSnappingEnabled) &#123;</span><br><span class="line">            setSnappingEnabled(<span class="keyword">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        onNestedPreScroll(coordinatorLayout, child, <span class="keyword">null</span>, <span class="number">0</span>, -<span class="number">1000</span>, consumed, ViewCompat.TYPE_TOUCH);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(curIsSnappingEnabled) &#123;</span><br><span class="line">            setSnappingEnabled(<span class="keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onStartNestedScroll</span><span class="params">(@NonNull CoordinatorLayout coordinatorLayout, @NonNull V child, @NonNull View directTargetChild,</span></span></span><br><span class="line"><span class="function"><span class="params">                                       @NonNull View target, <span class="keyword">int</span> axes, <span class="keyword">int</span> type)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (axes != ViewCompat.SCROLL_AXIS_VERTICAL)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        lastStartedType = type;</span><br><span class="line">        <span class="keyword">if</span>(offsetAnimator!= <span class="keyword">null</span>) &#123;</span><br><span class="line">            offsetAnimator.cancel();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopNestedScroll</span><span class="params">(@NonNull CoordinatorLayout coordinatorLayout, @NonNull V child, @NonNull View target, <span class="keyword">int</span> type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!isSnappingEnabled)</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加一个 snap behaviour</span></span><br><span class="line">        <span class="comment">// 这里的逻辑借用了 AppBarLayout onStopNestedScroll 相关代码</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (lastStartedType == ViewCompat.TYPE_TOUCH || type == ViewCompat.TYPE_NON_TOUCH) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// find nearest seam</span></span><br><span class="line">            <span class="keyword">float</span> currTranslation = child.getTranslationY();</span><br><span class="line">            <span class="keyword">float</span> childHalfHeight = child.getHeight() * <span class="number">0.5f</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (currTranslation &gt;= childHalfHeight) &#123;</span><br><span class="line">                animateBarVisibility(child, <span class="keyword">false</span>); <span class="comment">// 向下</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                animateBarVisibility(child, <span class="keyword">true</span>); <span class="comment">//向上</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNestedPreScroll</span> <span class="params">(@NonNull CoordinatorLayout coordinatorLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   @NonNull V child,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   View target,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   <span class="keyword">int</span> dx,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   <span class="keyword">int</span> dy,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   @NonNull <span class="keyword">int</span>[] consumed,</span></span></span><br><span class="line"><span class="function"><span class="params">                                   <span class="keyword">int</span> type)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed, type);</span><br><span class="line">        child.setTranslationY(Math.max(<span class="number">0f</span>, Math.min(child.getHeight(), child.getTranslationY() + dy)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">layoutDependsOn</span><span class="params">(@NonNull CoordinatorLayout parent, @NonNull V child, @NonNull View dependency)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(dependency <span class="keyword">instanceof</span> Snackbar.SnackbarLayout) &#123;</span><br><span class="line">            updateSnackBar(child, (Snackbar.SnackbarLayout)dependency);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.layoutDependsOn(parent, child, dependency);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateSnackBar</span><span class="params">(View child, Snackbar.SnackbarLayout snackBarLayout)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(snackBarLayout.getLayoutParams() <span class="keyword">instanceof</span> CoordinatorLayout.LayoutParams) &#123;</span><br><span class="line">            CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams)snackBarLayout.getLayoutParams();</span><br><span class="line"></span><br><span class="line">            params.setAnchorId(child.getId());</span><br><span class="line">            params.anchorGravity = Gravity.TOP;</span><br><span class="line">            params.gravity = Gravity.TOP;</span><br><span class="line">            snackBarLayout.setLayoutParams(params);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">animateBarVisibility</span><span class="params">(<span class="keyword">final</span> View child, <span class="keyword">boolean</span> isVisible)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (offsetAnimator == <span class="keyword">null</span>) &#123;</span><br><span class="line">            offsetAnimator = <span class="keyword">new</span> ValueAnimator();</span><br><span class="line">            offsetAnimator.setInterpolator(<span class="keyword">new</span> DecelerateInterpolator());</span><br><span class="line">            offsetAnimator.setDuration(<span class="number">150L</span>);</span><br><span class="line">            offsetAnimator.addUpdateListener(animation -&gt; child.setTranslationY((<span class="keyword">float</span>)animation.getAnimatedValue()));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            offsetAnimator.cancel();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">float</span> targetTranslation = isVisible ? <span class="number">0f</span> : child.getHeight();</span><br><span class="line">        offsetAnimator.setFloatValues(child.getTranslationY(), targetTranslation);</span><br><span class="line">        offsetAnimator.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>那么这个 behavior 不仅实现了 BottomNavigation 的西东隐藏，而且添加了 snap 效果，并且整合了 snackbar 与 BottomNavigation 之间的关系，这样就不会重叠了</p><p>snap 效果可以通过<code>private boolean isSnappingEnabled = true//false是关闭;</code>来控制</p><h2 id="4-FloatingActionButton-呢？"><a href="#4-FloatingActionButton-呢？" class="headerlink" title="4. FloatingActionButton 呢？"></a>4. FloatingActionButton 呢？</h2><p>上面的这些都是忽略了 FAB 的情况下，那么 FAB 应该如何实现呢？当然也是靠自定义 behavior 不过稍稍有点不同，一起来看看吧</p><p>首先添加布局</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--AppBarLayout相关组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--RecyclerView组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--BottomNavigationView组件--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">com.google.android.material.floatingactionbutton.FloatingActionButton</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/fab_main"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"top"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_anchor</span>=<span class="string">"@id/main_bottom_navigation_bar"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_anchorGravity</span>=<span class="string">"top|end"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:useCompatPadding</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_behavior</span>=<span class="string">"cn.endureblaze.kirby.main.BottomNavigationFABBehavior"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:fabSize</span>=<span class="string">"normal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|enterAlways"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里有几个属性需要注意一下</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app:layout_anchor="@id/main_bottom_navigation_bar"</span><br><span class="line">app:layout_anchorGravity="top|end"</span><br><span class="line">app:layout_behavior="cn.endureblaze.kirby.main.BottomNavigationFABBehavior"</span><br></pre></td></tr></table></figure><p>layout_anchor 是用来指定一个 FAB 的锚点，即以哪个控件为参照点设置位置<br>layout_anchorGravity 设置 FAB 相对锚点的位置，值有 bottom、center、right、left、top等<br>layout_behavior 依然是设置自定义 behavior，不再赘述</p><p>现在看看 BottomNavigationFABBehavior 有什么内容吧</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BottomNavigationFABBehavior</span>&lt;<span class="title">V</span> <span class="keyword">extends</span> <span class="title">View</span>&gt;  <span class="keyword">extends</span> <span class="title">CoordinatorLayout</span>.<span class="title">Behavior</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BottomNavigationFABBehavior</span> <span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BottomNavigationFABBehavior</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDependentViewRemoved</span><span class="params">(@NonNull CoordinatorLayout parent, @NonNull V child, @NonNull View dependency)</span> </span>&#123;</span><br><span class="line">        child.setTranslationY(<span class="number">0f</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onDependentViewChanged</span><span class="params">(@NonNull CoordinatorLayout parent, @NonNull V child, @NonNull View dependency)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> updateButton(child, dependency);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">layoutDependsOn</span><span class="params">(@NonNull CoordinatorLayout parent, @NonNull V child, @NonNull View dependency)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dependency <span class="keyword">instanceof</span> Snackbar.SnackbarLayout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateSnackBar</span><span class="params">(View child, Snackbar.SnackbarLayout snackBarLayout)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(snackBarLayout.getLayoutParams() <span class="keyword">instanceof</span> CoordinatorLayout.LayoutParams) &#123;</span><br><span class="line">            CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams)snackBarLayout.getLayoutParams();</span><br><span class="line"></span><br><span class="line">            params.setAnchorId(child.getId());</span><br><span class="line">            params.anchorGravity = Gravity.TOP;</span><br><span class="line">            params.gravity = Gravity.TOP;</span><br><span class="line">            snackBarLayout.setLayoutParams(params);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">updateButton</span><span class="params">(View child,View dependency)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(dependency <span class="keyword">instanceof</span> Snackbar.SnackbarLayout)&#123;</span><br><span class="line">            <span class="keyword">float</span> oldTranslation = child.getTranslationY();</span><br><span class="line">            <span class="keyword">float</span> height = dependency.getHeight();</span><br><span class="line">            <span class="keyword">float</span> newTranslation = dependency.getTranslationY() - height;</span><br><span class="line">            child.setTranslationY(newTranslation);</span><br><span class="line">            <span class="keyword">return</span> oldTranslation != newTranslation;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到还是比较简单的，主要是实现了与底栏的交互还有 snackbar 的交互</p><h2 id="5-结尾"><a href="#5-结尾" class="headerlink" title="5. 结尾"></a>5. 结尾</h2><p>那这个实现是我参考了其他的博文以及 Github 的一些项目总结出来的，如果那里有问题还请指出</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在重写 Kirby Assistant 的时候需要实现像图中的效果，那这样的效果具体应该怎么实现呢，快点进来看看吧。(图在里面)&lt;/p&gt;
    
    </summary>
    
      <category term="编程" scheme="https://blog.endureblaze.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="踩坑" scheme="https://blog.endureblaze.cn/tags/%E8%B8%A9%E5%9D%91/"/>
    
      <category term="Android" scheme="https://blog.endureblaze.cn/tags/Android/"/>
    
      <category term="Material Design 2" scheme="https://blog.endureblaze.cn/tags/Material-Design-2/"/>
    
  </entry>
  
  <entry>
    <title>Kirby Assistant 编年史</title>
    <link href="https://blog.endureblaze.cn/posts/a505f9a9/"/>
    <id>https://blog.endureblaze.cn/posts/a505f9a9/</id>
    <published>2019-08-04T06:28:42.000Z</published>
    <updated>2019-08-29T05:49:48.272Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>写在前面：<br>由于很多东西已经无法考证<del>其实就是懒，当初没记下来</del>，所以早期的版本可能会有记不清版本号的情况，不过大概还是能对的上时间的。</p></blockquote><a id="more"></a><h2 id="1-开局一段话，内容全靠编"><a href="#1-开局一段话，内容全靠编" class="headerlink" title="1. 开局一段话，内容全靠编"></a>1. 开局一段话，内容全靠编</h2><p>　　大家好，众所<del>不那么</del>周知 Kirby Assistant 是一款可以下载星之卡比系列游戏的软件，第一个有意义的版本诞生于 2017年1月15日 <del>我钦定的</del>。那这过去的时间里究竟发过什么有趣的事？或者说是怎么发展的？那接着往下看吧！<br><strong>电脑用户可以用过左边的栏目快速定位，手机用户，对不住啦</strong></p><h2 id="2-源自想法"><a href="#2-源自想法" class="headerlink" title="2.源自想法"></a>2.源自想法</h2><p>　　任何 APP 的诞生都应当有一些这样那样的理由，Kirby Assistant 也不例外。老用户可能知道这款程序最早的名字是 Kirby Download 的，那他又是怎么诞生的呢？这还要从 <a href="https://github.com/wwylele" target="_blank" rel="noopener">wwylele</a> 说起。当时他在 星之卡比吧 里编写一款可以编辑 星之卡比:梦之泉物语 DX 的地图编辑器，其中一楼发的图中背景是ide，里面的是编辑器源码，前景是编辑器本体，然后楼中楼里有人说“看源码”之类的话。当时我内心就：exm？还有这种操作吗？太炫酷了，这就算是我想学习编程的起源了。<br>　　再后来就是接手吧盘的事了，具体时间已经无从考证，因为wwylele已经删除了原贴，但是根据<a href="https://tieba.baidu.com/p/4878419837" target="_blank" rel="noopener">为啥置顶的资源被删了</a>这帖的发布时间 2016-11-27 ，以及我发的<a href="https://tieba.baidu.com/p/4850329936" target="_blank" rel="noopener">发布，肯德基豪华午餐(雾 kirby download发布</a>(2016-11-05)以及<a href="https://tieba.baidu.com/p/4881013343" target="_blank" rel="noopener">我个人看法！？以及水一帖！？</a>(2016-11-29)这两贴的时间来看，最早在 2016-11-05 时我已经接手了贴吧并且有了 Kirby Download 初代版本，所以姑且推算在 2016-11 前我接手了吧盘吧。<br>　　那接手了，可不能只是简单的吧资源放在我名下就完事了。如果有的人嫌访问吧盘麻烦怎么办？如果有的人不能迅速找不到想要的资源怎么办？如果有的人记不住地址怎么办？<del>亡命三连</del> 那可不得了，这得赶紧搞个东西出来方便一下。脑子里突然闪过当年种下的草，正好最近有看到 iapp，这个可以快速编写程序，那就搞呗？</p><h2 id="3-未发布的初代-绝唱-iapp"><a href="#3-未发布的初代-绝唱-iapp" class="headerlink" title="3. 未发布的初代 绝唱 iapp"></a>3. 未发布的初代 绝唱 iapp</h2><h3 id="3-1-从零开坑"><a href="#3-1-从零开坑" class="headerlink" title="3.1 从零开坑"></a>3.1 从零开坑</h3><p>　　搞！说的轻巧，那得有好的构思啊。那怎么做？怎么设计？卡片？不行，效率太低，那就……列表？诶，这个绝妙，可以快速定位。用之前下载的 iapp 教程就这样动手起来，十分简单，甚至不用动手编写，只需要拖动就可以了。这可让我第一次尝试就尝到了甜头，顺顺利利的就做了几个列表出来。</p><h3 id="3-2-无力吐槽的图标"><a href="#3-2-无力吐槽的图标" class="headerlink" title="3.2 无力吐槽的图标"></a>3.2 无力吐槽的图标</h3><p>　　列表是有了，那……图标？既然这是关于 星之卡比 的程序，那就用一张官方的图，后面再用 PS Touch 做一个背景上去，就是下面这个<br>![初代-未使用](/blog_image/Kirby Assistant编年史/初代-未使用.png)<br>　　wd?这也太丑了吧？你看这色彩，这布局，这裁剪，丑到家了。不过当时可没有人来帮我做设计，就现先这样用吧。<br>　　图标有了，凑合能用的程序也有了，那叫什么名字呢？这是关于 星之卡比 的程序，可以用来下资源，你可能认为理所当然的叫 卡比下载器？不不不，根据<a href="https://www.zhihu.com/question/308116322" target="_blank" rel="noopener">母语羞涩原理</a>当然是叫 Kirby Download 啦！</p><h3 id="3-2-这就算……开始了吧"><a href="#3-2-这就算……开始了吧" class="headerlink" title="3.2 这就算……开始了吧"></a>3.2 这就算……开始了吧</h3><p>　　然后我就带着这个样子的程序去贴吧发帖了<del>当然因为傻逼百度这贴已经找不到了<br>~</del>对了，图标我换了，长这样<del>~<br><img alt="初代-使用且出现视频" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/%E5%88%9D%E4%BB%A3-%E4%BD%BF%E7%94%A8%E4%B8%94%E5%87%BA%E7%8E%B0%E8%A7%86%E9%A2%91.png"><br>而且当时还做了个<a href="https://www.bilibili.com/video/av7053495" target="_blank" rel="noopener">视频</a></del>辣眼睛注意~~</p><iframe src="//player.bilibili.com/player.html?aid=7053495&cid=11499734&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 640px; height: 430px; max-width: 100%"> </iframe><h2 id="4-虽然不好用-但-你好-AndroLua-你好-Kirby-Download"><a href="#4-虽然不好用-但-你好-AndroLua-你好-Kirby-Download" class="headerlink" title="4. 虽然不好用 但 你好 AndroLua 你好 Kirby Download"></a>4. 虽然不好用 但 你好 AndroLua 你好 Kirby Download</h2><h3 id="4-1-初识-AndroLua"><a href="#4-1-初识-AndroLua" class="headerlink" title="4.1 初识 AndroLua"></a>4.1 初识 AndroLua</h3><p>　　时间一天天过着，初代版本也在不断更新<del>虽然没更新多久</del>。可是 iapp 只能拖动的布局已经不能满足我了，我需要更好用的语言，更好用的 ide。迫于当时觉得 java 入门门槛过于高，正好 AndroLua 又在盛行，我也就选择使用这个来接着编写了。这是一个由 nirenr 一个人改编的，基于 lua 语言，但是有一些 java 语法成分的<a href="https://baike.baidu.com/item/%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80/8888952?fr=aladdin" target="_blank" rel="noopener">解释型语言</a>。<del>我估计就是因为太好用，太方便才会有人用的。不过成也方便，败也方便。(指弱类型)</del></p><h3 id="4-2-崭新的-Kirby-Download"><a href="#4-2-崭新的-Kirby-Download" class="headerlink" title="4.2 崭新的 Kirby Download"></a>4.2 崭新的 Kirby Download</h3><p>　　那用了新的语言，怎么能不重新设计界面呢，首先就是界面大改<del>当然这是测试版界面</del><br>  <img alt="ka-测试版界面" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-%E6%B5%8B%E8%AF%95%E7%89%88%E7%95%8C%E9%9D%A2.png"><br>  新的图标，一定要极简，本文设计，质感设计都要有，于是就有了下面这样<br>  <img alt="kd-初代后到0.8版本前" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/kd-%E5%88%9D%E4%BB%A3%E5%90%8E%E5%88%B00.8%E7%89%88%E6%9C%AC%E5%89%8D.png"><br>  这样，Kirby Download<del>钦定的</del>诞生日就有了 2019-1-15</p><h3 id="4-3-完整的资源"><a href="#4-3-完整的资源" class="headerlink" title="4.3 完整的资源"></a>4.3 完整的资源</h3><p>  因为还有学业，所以不能做到日更，所以在周更和双周更的情况下终于在 2017-03-25 收录了绝大部分资源，此时应用界面已经比较现代了<del>并且傻逼一样的给应用名末尾加了个β</del><br>  <img alt="kd-资源最终版" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/kd-%E8%B5%84%E6%BA%90%E6%9C%80%E7%BB%88%E7%89%88.jpg"><br>  可以说，这个主页列表界面基本上维持到 Lua 版本结束<br>  并且在此之前使用了fir托管软件，地址：<a href="https://fir.im/kirby" target="_blank" rel="noopener">https://fir.im/kirby</a></p><h3 id="4-4-跨越-版本-1-0"><a href="#4-4-跨越-版本-1-0" class="headerlink" title="4.4 跨越 版本 1.0"></a>4.4 跨越 版本 1.0</h3><p>1.0算是已经接近 Lua版本的尾声了，此时发布了一个对今后影响十分巨大的主页界面<br><img alt="ka-1.0" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-1.0.jpg"><br>而且在此之前更换了新的图标，不过这个图标没有持续很久使用<br><img alt="kd-0.8到1.0版本前" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/kd-0.8%E5%88%B01.0%E7%89%88%E6%9C%AC%E5%89%8D.png"><br>但是这个版本bug居多，很多人反映无法使用，所以我很快迭代了</p><h3 id="4-4-震惊-KD-惨遭被盗"><a href="#4-4-震惊-KD-惨遭被盗" class="headerlink" title="4.4 震惊 KD 惨遭被盗"></a>4.4 震惊 KD 惨遭被盗</h3><p>哈哈哈这个应该是个人开发者必经的，总是会被二次打包的，不过我倒是没有特别在意，只是在贴吧发了<a href="https://tieba.baidu.com/p/5094724024" target="_blank" rel="noopener">这个帖子</a>而已</p><h3 id="4-5-虚假的官网"><a href="#4-5-虚假的官网" class="headerlink" title="4.5 虚假的官网"></a>4.5 虚假的官网</h3><p>在上面那些事情的某个期间，我去一个模板网站制作了一个<a href="http://kirbydownload.mystrikingly.com/" target="_blank" rel="noopener">官网</a><del>其实就是改改图片，改改文本而已</del></p><h3 id="4-6-停止支持"><a href="#4-6-停止支持" class="headerlink" title="4.6 停止支持"></a>4.6 停止支持</h3><p>不是停止 KD，而是停止版本支持，就在 2017-05-05 这一天发的<a href="https://tieba.baidu.com/p/5102809713" target="_blank" rel="noopener">kirby download Δ</a>中</p><h2 id="5-你好-java"><a href="#5-你好-java" class="headerlink" title="5. 你好 java"></a>5. 你好 java</h2><h3 id="5-1-为什么"><a href="#5-1-为什么" class="headerlink" title="5.1 为什么"></a>5.1 为什么</h3><p>其实 AndrodLua 挺好用的，那么我为什么要换呢？</p><blockquote><p>扩展性</p></blockquote><p>是的 AndrodLua 的扩展性十分糟糕，以至于很多新的特性无法使用，在这种情况下我毅然选择了 java。</p><h3 id="5-2-停更-但不是永远"><a href="#5-2-停更-但不是永远" class="headerlink" title="5.2 停更 但不是永远"></a>5.2 停更 但不是永远</h3><p>　　在使用 java 编写的时候我不得不停止更新 Lua 版本的 KD，不过没有持续很久。不得不说 java 是安卓开发的主流，我遇到的很多问题都可以得到有效解决，这种前所未有的有效，让我在不到两个月的时间里就搞定了 java 版本的开发。</p><h3 id="5-3-手滑的重要性（雾"><a href="#5-3-手滑的重要性（雾" class="headerlink" title="5.3 手滑的重要性（雾"></a>5.3 手滑的重要性（雾</h3><p>在 2017-06-20 这天发售了手滑<del>铁卢</del>事件，不过吧，这个时候我已经准备 java 版本的开发了，所以丢失的 Lua 版本源码也无伤大碍<del>个屁</del><br>参阅<a href="https://tieba.baidu.com/p/5174062697" target="_blank" rel="noopener">咳咳，我告诉你们啊。。。</a></p><h3 id="5-4-来了来了-他来了"><a href="#5-4-来了来了-他来了" class="headerlink" title="5.4 来了来了 他来了"></a>5.4 来了来了 他来了</h3><p>2017-08-14 这天算是正式发布了 KD 的 java 版吧，于是乎就有了<a href="https://tieba.baidu.com/p/5272051400" target="_blank" rel="noopener">我又来炒冷饭了，虫♤人一口 虫♤人一口</a><del>标题暴力，暗示那位大人偷走了我停更的时间咳咳咳</del>界面如下<br><img alt="kd-java" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/kd-java.jpg"><br>同时这个图标也是从 Lua 版一直用到 java 版<br><img alt="kd1.0到2.2.3" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/kd1.0%E5%88%B02.2.3.png"></p><h3 id="5-5-V2？集合体？slogan？2018？"><a href="#5-5-V2？集合体？slogan？2018？" class="headerlink" title="5.5 V2？集合体？slogan？2018？"></a>5.5 V2？集合体？slogan？2018？</h3><h4 id="5-2-1-永不弃坑-就是我除非我亏的没钱了"><a href="#5-2-1-永不弃坑-就是我除非我亏的没钱了" class="headerlink" title="5.2.1 永不弃坑 就是我除非我亏的没钱了"></a>5.2.1 永不弃坑 就是我<del>除非我亏的没钱了</del></h4><p><a href="https://tieba.baidu.com/p/5351905548" target="_blank" rel="noopener">【绝不弃坑】【游戏资源看这里】kirby download</a>这个就是集合了一些链接，当时百度<del>傻逼的</del>审核机制还没有那么严格，这种帖子放现在肯定gg</p><h4 id="5-2-2-不仅有游戏"><a href="#5-2-2-不仅有游戏" class="headerlink" title="5.2.2 不仅有游戏"></a>5.2.2 不仅有游戏</h4><p>是的，这是从那时确定下来的 slogan 现在看来确实如此</p><h3 id="5-6-什么什么？用户系统？闲聊？模拟器直接下？"><a href="#5-6-什么什么？用户系统？闲聊？模拟器直接下？" class="headerlink" title="5.6 什么什么？用户系统？闲聊？模拟器直接下？"></a>5.6 什么什么？用户系统？闲聊？模拟器直接下？</h3><p>2017-8-23 也就是 java 版本发布后，更新了一个让我亏钱至今，甚至濒临几次倒闭的东西，用户系统与文件服务。<br>确实很好用，比看评论区方便多了。就是……不能回复，至今也不行<del>好尴尬啊</del></p><h3 id="5-7-3-0预告"><a href="#5-7-3-0预告" class="headerlink" title="5.7 3.0预告"></a>5.7 3.0预告</h3><h4 id="5-7-1-真实手绘"><a href="#5-7-1-真实手绘" class="headerlink" title="5.7.1 真实手绘"></a>5.7.1 真实手绘</h4><p>手绘预告，见过没？<a href="https://tieba.baidu.com/p/5519636217" target="_blank" rel="noopener">【技术】kirby download3.0预告</a>就是这么秀，纯手绘，画出3.0的大部分想法<del>原稿已丢失</del></p><h4 id="5-7-2-除夕夜发布"><a href="#5-7-2-除夕夜发布" class="headerlink" title="5.7.2 除夕夜发布"></a>5.7.2 除夕夜发布</h4><p>此时 KD 界面已经是很接近现在的了，具体如图<br><img alt="ka-3.0" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-3.0.jpg"><br>以及，真就除夕夜发布<del>正好一周年，蛮有意义的</del><br><a href="https://tieba.baidu.com/p/5551002824" target="_blank" rel="noopener">【预热】kirby download3.0，除夕夜发布！！</a><br><a href="https://tieba.baidu.com/p/5552664544" target="_blank" rel="noopener">【深夜更新】kirby download3.0</a></p><blockquote><p>啊，大家好啊<br>这里炎忍，经过两个月的开发，迎来了3.0版本，接下来是更新日志:<br>duang~<br>深夜更新<br>1.新的图标，新的宣传图<br>2.新的菜单<br>3.攻略视频添加<br>4.稳定服务器<br>5.闲聊优化<br>6.全局滑动返回<br>7.优化捐赠<br>8.优化翻译，修复错误翻译<br>9.修改整体算法<br>10.重新设计启动界面<br>11.针对于安卓7.1.2进行优化<br>12.针对于虚拟按键进行优化<br>13.针对于安卓4.4.4进行优化<br>14.压缩体积，提升性能<br>15.进一步优化用户算法<br>…….<br>更多优化，更新，请进入app感受吧！！</p></blockquote><p>以上的当时的更新日志，也是发帖内容。</p><h2 id="6-再见-Kirby-Download"><a href="#6-再见-Kirby-Download" class="headerlink" title="6. 再见 Kirby Download"></a>6. 再见 Kirby Download</h2><h3 id="6-1-事件"><a href="#6-1-事件" class="headerlink" title="6.1 事件"></a>6.1 事件</h3><p>3.0更新两天后，由于一些现在不方便描述的的原因<del>因为是QQ上发生的事</del>，所以不多做描述。大概就是我被喷了，还是圈内人，然后我又玩玻璃心<del>说实话真的受不住</del>，就这么僵持了几天，我下架了 Kirby Assistant。<br>2019-2-25 我进行了 <a href="https://github.com/EndureBlaze/kirbydownload/" target="_blank" rel="noopener">Kirby Assistant仓库</a>的最后一次提交，Commit 信息是 “再见Kirby download”，这个仓库的 commits 也定格在 53，不再更新</p><h3 id="6-2-反思"><a href="#6-2-反思" class="headerlink" title="6.2 反思"></a>6.2 反思</h3><p>这个事情过后我也反思自己，也确实做的不够好，如果做的很好，就不会引来别人的这种说法，这么想着，我在QQ空间发了如下说说<br><img alt="空间截图" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/%E7%A9%BA%E9%97%B4%E6%88%AA%E5%9B%BE.jpg"><br>也算是预告吧</p><h2 id="7-崭新的-你好-Kirby-Assistant"><a href="#7-崭新的-你好-Kirby-Assistant" class="headerlink" title="7. 崭新的 你好 Kirby Assistant"></a>7. 崭新的 你好 Kirby Assistant</h2><h3 id="7-1-从头来过"><a href="#7-1-从头来过" class="headerlink" title="7.1 从头来过"></a>7.1 从头来过</h3><p>2019-2-27 我在贴吧发帖<a href="https://tieba.baidu.com/p/5568861528" target="_blank" rel="noopener">【资源】Kirby Assistant</a>,这个界面基本定格至今了<br><img alt="ka-初版" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-%E5%88%9D%E7%89%88.jpg"></p><h3 id="7-2-新的特性"><a href="#7-2-新的特性" class="headerlink" title="7.2 新的特性"></a>7.2 新的特性</h3><p>感谢 AIDE 的更新，让我可以用到诸如自适应图标的新特性，并且在 0.4-beta-1 成功完美适配 AndroidP 这也是截止发文为止最新的 Android 正式版</p><h3 id="7-2-撇弃旧框架"><a href="#7-2-撇弃旧框架" class="headerlink" title="7.2 撇弃旧框架"></a>7.2 撇弃旧框架</h3><p>分别在 0.4-beta-3 、 0.4-beta-6 和 0.4 版中撇弃了旧版本的条条框框，这也是成长最快的时期</p><h3 id="7-3-新的图标"><a href="#7-3-新的图标" class="headerlink" title="7.3 新的图标"></a>7.3 新的图标</h3><p>这是分别在 0.4-beta1<br><img alt="ka-0.4b1之后-双图标-主图标-hk流星" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-0.4b1%E4%B9%8B%E5%90%8E-%E5%8F%8C%E5%9B%BE%E6%A0%87-%E4%B8%BB%E5%9B%BE%E6%A0%87-hk%E6%B5%81%E6%98%9F.png"><br>和 0.4-beta2<br><img alt="ka-0.4b2后-双图标-副图标-Markuss" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-0.4b2%E5%90%8E-%E5%8F%8C%E5%9B%BE%E6%A0%87-%E5%89%AF%E5%9B%BE%E6%A0%87-Markuss.png"><br>的图标，直到目前我也是最喜欢的两个，后面做成了双图标模式</p><h2 id="8-未来·炫动"><a href="#8-未来·炫动" class="headerlink" title="8. 未来·炫动"></a>8. 未来·炫动</h2><p>现在，撇弃百度贴吧与QQ，舞台交给 Github</p><h3 id="8-1-全新的-KA"><a href="#8-1-全新的-KA" class="headerlink" title="8.1 全新的 KA"></a>8.1 全新的 KA</h3><p>2018-12-9 我推出了全新版本的 KA ——未来·炫动，这个版本拥有诸多特性，完整的 AndroidP API，完整的自适应图标，双镜像仓库，以及最重要的新服务器结构<del>虽然后面还让我丢数据了</del><br>如果说 0.4 大版本是 KA 发展最快的时期，那未来·炫动一定是我最推荐的版本</p><h3 id="8-2-更新"><a href="#8-2-更新" class="headerlink" title="8.2 更新"></a>8.2 更新</h3><p>1.2.6(Build 29)引入的更新一定是最刚需的，往往程序更新了却不知道，这次，他来了，引入 Build 比较概念，让你随时都能用上新版本</p><h3 id="8-3-全新架构-PBL"><a href="#8-3-全新架构-PBL" class="headerlink" title="8.3 全新架构 PBL"></a>8.3 全新架构 PBL</h3><p>如果说更新是刚需，让你享受新特性，那么1.2.1(Build 24)引入的全新服务器架构和 PBL一定是更稳定的前提。前者拥有更快的响应速度，后者不会对用户有任何影响，但是会让我维护更方便<del>这不是你丢失服务器数据的理由</del></p><h3 id="8-3-无延迟启动"><a href="#8-3-无延迟启动" class="headerlink" title="8.3 无延迟启动"></a>8.3 无延迟启动</h3><p>1.2(Build 23)引入的全新启动模式，根据 AndoidP API 编写，适配新特性，毫秒级启动速度</p><h3 id="8-4-全新网站"><a href="#8-4-全新网站" class="headerlink" title="8.4 全新网站"></a>8.4 全新网站</h3><p>这不是程序更新的范畴，但是息息相关<br>2019-2-15 这天我买了域名<a href="https://endureblaze.cn" target="_blank" rel="noopener">https://endureblaze.cn</a>并且把 Kirby Assistant 的官网定为<a href="https://ka.endureblaze.cn" target="_blank" rel="noopener">https://ka.endureblaze.cn</a></p><h3 id="8-5-更全新的图标"><a href="#8-5-更全新的图标" class="headerlink" title="8.5 更全新的图标"></a>8.5 更全新的图标</h3><p>在 1.2.7 版本我合并了两个图标并且 hk流星 进行了微调<br><img alt="ka-1.2.7后-现用-hk流星重绘" data-src="/blog_image/Kirby_Assistant_%E7%BC%96%E5%B9%B4%E5%8F%B2/ka-1.2.7%E5%90%8E-%E7%8E%B0%E7%94%A8-hk%E6%B5%81%E6%98%9F%E9%87%8D%E7%BB%98.png"><br>这也是到目前为止一直使用的图标</p><h3 id="8-6-AndroidX-MD2-以及-更小的体积"><a href="#8-6-AndroidX-MD2-以及-更小的体积" class="headerlink" title="8.6 AndroidX MD2 以及 更小的体积"></a>8.6 AndroidX MD2 以及 更小的体积</h3><p>我购买了电脑，这让我可以跟方便的编写程序，更是把 Kirby Assistant 的体积压缩到更小</p><h2 id="9-炫动了-未来呢？"><a href="#9-炫动了-未来呢？" class="headerlink" title="9. 炫动了 未来呢？"></a>9. 炫动了 未来呢？</h2><p>我想，我会一直保持不定期更新，这个程序我暂时不可能放弃的，即使再亏钱</p><h2 id="10-未完待续"><a href="#10-未完待续" class="headerlink" title="10. 未完待续"></a>10. 未完待续</h2><p>革命尚未完成，同志仍需努力</p><h3 id="10-1-我还想说"><a href="#10-1-我还想说" class="headerlink" title="10.1 我还想说"></a>10.1 我还想说</h3><p>Kirby Assistant 发展两年多来，实数不易，这让我也了解到生活的不易。是啊，谁都不好过，所以，希望以后还能多多下载，推荐给你身边玩星之卡比的人，或者，带Ta入坑</p><h2 id="感谢名单"><a href="#感谢名单" class="headerlink" title="感谢名单"></a>感谢名单</h2><blockquote><p>这是在 Kirby Assistant 发展道路上帮助过我的人，如果有疏漏，请联系我补充</p></blockquote><p><strong>排名无先后之分</strong><br>点击名字可以跳转链接(如果有)</p><ul><li><strong>感谢在这个过程中所有给予我鼓励的人</strong></li><li><strong>感谢每一个捐赠者</strong></li><li>感谢<a href="https://github.com/longxk2017" target="_blank" rel="noopener"><strong>longxk2017</strong></a>(Github)进行<strong>繁体中文翻译</strong></li><li>感谢<a href="https://www.coolapk.com/u/555883" target="_blank" rel="noopener"><strong>hk流星</strong></a>(酷安)进行<strong>图标绘制</strong></li><li>感谢<a href="https://www.coolapk.com/u/529718" target="_blank" rel="noopener"><strong>Markuss</strong></a>(酷安)进行<strong>图标绘制</strong></li><li>感谢<a href="http://tieba.baidu.com/home/main?un=%E5%85%89%E4%B9%8B%E8%80%80%E8%A5%BF" target="_blank" rel="noopener"><strong>光之耀西</strong></a>(百度贴吧)进行<strong>英文翻译</strong></li><li>感谢<a href="http://tieba.baidu.com/home/main?un=%E9%9A%BE%E9%9A%BE%E9%9A%BE550" target="_blank" rel="noopener"><strong>难难难550</strong></a>(百度贴吧)进行<strong>英文翻译</strong></li><li>感谢<a href="http://tieba.baidu.com/home/main?un=%E8%9D%99%E8%9D%A0%E4%BE%A0%E9%AA%91%E6%91%A9%E6%89%98" target="_blank" rel="noopener"><strong>蝙蝠侠骑摩托车</strong></a>(百度贴吧)的<strong>资源投放</strong></li><li>感谢<a href="http://tieba.baidu.com/home/main?un=%E2%98%85%E2%98%86%E5%B0%8F%E4%BC%8A%E5%B8%83%E2%98%86%E2%98%85" target="_blank" rel="noopener"><strong>★☆小伊布☆★</strong></a>(百度贴吧)进行<strong>图标绘制</strong></li><li>感谢<a href="http://www.shaoxudong.com" target="_blank" rel="noopener"><strong>邵旭东</strong></a>(个人主页)提供的<strong>备案域名</strong></li><li>感谢<a href="https://github.com/lxfly2000" target="_blank" rel="noopener"><strong>lxfly2000</strong></a>(Github)进行的<strong>程序协助</strong></li><li>感谢<a href="https://www.coolapk.com/u/1157774" target="_blank" rel="noopener"><strong>塔林狐</strong></a>(酷安)进行<strong>编写 FAQ</strong></li><li>感谢<a href="https://space.bilibili.com.13001252" target="_blank" rel="noopener"><strong>虚影无华</strong></a>(哔哩哔哩动画)制作的 <strong>星之卡比100%计划</strong> 系列视频</li><li>感谢<a href="http://tieba.baidu.com/home/main?un=%E6%A2%A6%E6%83%B3%E5%8D%A1%E6%AF%94" target="_blank" rel="noopener"><strong>梦想卡比</strong></a>(百度贴吧)进行<strong>早期版本测试</strong></li><li>感谢<a href="http://tieba.baidu.com/home/main?un=osxm9" target="_blank" rel="noopener"><strong>oxsm9</strong></a>(百度贴吧)的 <strong>红米2A</strong></li><li>感谢更多我应该感谢但记不住名字及人以及<strong>感谢我的父母</strong></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;写在前面：&lt;br&gt;由于很多东西已经无法考证&lt;del&gt;其实就是懒，当初没记下来&lt;/del&gt;，所以早期的版本可能会有记不清版本号的情况，不过大概还是能对的上时间的。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="我的 Android 应用" scheme="https://blog.endureblaze.cn/categories/%E6%88%91%E7%9A%84-Android-%E5%BA%94%E7%94%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>记一些 Hexo 报错</title>
    <link href="https://blog.endureblaze.cn/posts/b36c6159/"/>
    <id>https://blog.endureblaze.cn/posts/b36c6159/</id>
    <published>2019-08-02T10:05:48.000Z</published>
    <updated>2019-08-02T10:11:50.724Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>说在前面：<br>这里主要是记一下平时在 Hexo 遇到的报错，解决之后分享一下解决方法</p></blockquote><a id="more"></a> <h2 id="YAMLException-can-not-read-a-block-mapping-entry-a-multiline-key-may-not-be-an-implicit-key-at-line-6-column-1"><a href="#YAMLException-can-not-read-a-block-mapping-entry-a-multiline-key-may-not-be-an-implicit-key-at-line-6-column-1" class="headerlink" title="YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 6, column 1:"></a>YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 6, column 1:</h2><p>解决方法：查看新建要上传地md文件，看看 tags 那里或者其他地方，与后面内容是不是有一个空格。我是排查空格之后就解决了。<del>好智障啊</del></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;说在前面：&lt;br&gt;这里主要是记一下平时在 Hexo 遇到的报错，解决之后分享一下解决方法&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="技术记录" scheme="https://blog.endureblaze.cn/categories/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="Hexo" scheme="https://blog.endureblaze.cn/tags/Hexo/"/>
    
      <category term="踩坑" scheme="https://blog.endureblaze.cn/tags/%E8%B8%A9%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>我为什么要搭建博客</title>
    <link href="https://blog.endureblaze.cn/posts/a6366ad5/"/>
    <id>https://blog.endureblaze.cn/posts/a6366ad5/</id>
    <published>2019-08-02T09:32:33.000Z</published>
    <updated>2019-08-02T10:16:35.277Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>即使最后没有人为你鼓掌，也要优雅地谢幕，感谢自己的认真付出。</p></blockquote><a id="more"></a> <p>　　我觉得自建博客＋个人域名是树立个人品牌的一个重要步骤，试想别人通过搜索到你的个人网站并联系你的时候，说明个人品牌已经初步建立了。<br>　　但如果仅仅把它形容为「进入现在行业的敲门砖与踏脚石」，这个说法也是不够算是完整的。社交网站、写作平台都是别人的，你拥有的是写的权利跟一个 Profile 页面，写出来的文档都不属于你，而是平台的，这太讽刺了。你获得多少关注不一定直接跟你的写作内容有关，吸引的读者更多是跟平台有关而不是个人有关。<br>　　每次打开博客会有种莫名有种归属感。城市太闹，微博太糟，幸好还有一个没人知晓的博客，在不愿让人知道的那天，任由自己的情绪倾倒。我想这就是博客存在的意义吧。<br>　　博客是你的，哪怕它再破落，访问量再低，狗不嫌家穷。只要你不放弃，到你八十三岁的时候，他仍然会在那里。从这个角度，它承载了记录的功能，它是你人生经历在时间上的痕迹，你可能说 印象笔记 也可以，但凭心而论「我宁愿相信 Hexo 活得会比前者（印象笔记）更久」，因为一切重平台的产品都会因为各种复杂的原因消失殆尽。即便 Hexo 停止更新，我也仍然可以搭一个环境让它跑起来，文章都在你身边存放着，它只是一个开源程序，让大家有写作的乐趣。<br>　　除了记录，独立博客就是“你”，你选择什么域名，使用什么主题，多大的字号，全文输出还是截断输出，使用哪家 Feed 托管，你也许会在 Feed 尾部用插件加上一朵小菊花，你甚至可以推荐一款你喜欢的同性恋应用给大家而不用担心被删除。<br>　　这就是我想要表达的，「这一切都是因为你，同时也呈现你」，它是一个专属于你自己的写作、记录、呈现的地方。它叫博客，但又不只是博客，以前在其他平台写博客是为了很多东西，现在自己搭建写博客只是为了一种生活习惯，少论道，多说常识跟生活。<br>　　这大概就是我对于个人搭建博客的看法了，也是为什么我要去搭建博客。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;即使最后没有人为你鼓掌，也要优雅地谢幕，感谢自己的认真付出。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="随手记" scheme="https://blog.endureblaze.cn/categories/%E9%9A%8F%E6%89%8B%E8%AE%B0/"/>
    
    
      <category term="为什么" scheme="https://blog.endureblaze.cn/tags/%E4%B8%BA%E4%BB%80%E4%B9%88/"/>
    
      <category term="看法" scheme="https://blog.endureblaze.cn/tags/%E7%9C%8B%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>偶然间在B站看到的鬼畜</title>
    <link href="https://blog.endureblaze.cn/posts/d46d4e39/"/>
    <id>https://blog.endureblaze.cn/posts/d46d4e39/</id>
    <published>2019-08-01T16:29:52.000Z</published>
    <updated>2019-08-02T10:13:05.399Z</updated>
    
    <content type="html"><![CDATA[<p>刚才逛B站的时候在首页偶然看到这个，播放量还挺高的，就点进去看看了。神级填词，现在的老哥们简直神了，真的容易引起共鸣，然后又想起了以前的一些事，诶。</p><a id="more"></a> <p>不多说啥了，做好现在的自己，不偏离本心！</p><p>视频地址：<a href="https://www.bilibili.com/video/av60731116/" target="_blank" rel="noopener">https://www.bilibili.com/video/av60731116/</a></p><iframe src="//player.bilibili.com/player.html?aid=60731116&cid=106015992&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 640px; height: 430px; max-width: 100%"> </iframe><blockquote><p><strong>贴一个里面的评论</strong><br>曾经看到大学宿舍里的沙雕图片，一个光膀大汉法相庄严，后面的人伸出手摆成千手佛陀，下面有句热评：</p><p>“珍惜现在的时光吧，能陪你一起沙雕的朋友已经越来越少了。”</p><p>欢乐是如何消失的呢，海绵宝宝？</p><p>当你变成正常人、长大的时候，它就和你告了别。</p><p>我喜欢什么都不做，喜欢追求最天真的快乐。<br>闭眼数数和我一般如星星闪耀的天才，可是只有我一个派大星。<br>知道我找到了另一颗星星，你，海绵宝宝。愿意和我一起享受快乐。<br>我不知道为什么他们说我是废物。<br>我不知道为什么太阳西边是落处。<br>我不知道为什么章鱼哥追求艺术。<br>我不知道为什么蟹老板攒钱如土。<br>即便抽不中想要的角色，我们却有辆小汽车。<br>即便驾照总是触不可及，我们也能玩摇摇乐。<br>即便去抓水母邻居遭殃，我们还在享受快乐。<br>当人们追求自己喜欢的东西的时候，为什么你渐行渐远了呢。<br>即便你有喜爱的工作、支持你的朋友、爱你的家人、听话的小窝和大把的青春值得去奋斗，我却发现你不再快乐，生病了。<br>你说想要变回常人。<br>你说羡慕章鱼哥受人景仰。<br>你说羡慕蟹老板家财万贯。<br>你说抓水母让章鱼哥愤怒。<br>你说想要的角色难以抽到。<br>你说不考驾照快乐受了限。<br>我最好的朋友，你这样我也很难受。<br>当我看到那电章鱼哥的水母，我一定要抓到。<br>当我再去商场终于抽到角色，你一直想要的。<br>当我考来驾照坐上那小汽车，想和你去冒险。<br>于是我带着这些再次找到你。<br>直到见到你漂亮的房子。<br>见到你成团的宾客。<br>见到你光鲜的衣服。<br>见到你贵气的打扮。<br>听到你说我嫉妒新生活的话语。<br>感受到被丢出去的失落。</p><p>欢乐是如何消失的呢，海绵宝宝？</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;刚才逛B站的时候在首页偶然看到这个，播放量还挺高的，就点进去看看了。神级填词，现在的老哥们简直神了，真的容易引起共鸣，然后又想起了以前的一些事，诶。&lt;/p&gt;
    
    </summary>
    
      <category term="碎碎念" scheme="https://blog.endureblaze.cn/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
    
      <category term="视频" scheme="https://blog.endureblaze.cn/tags/%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>一些 WordPress 主题</title>
    <link href="https://blog.endureblaze.cn/posts/dc790cfc/"/>
    <id>https://blog.endureblaze.cn/posts/dc790cfc/</id>
    <published>2019-08-01T14:53:03.000Z</published>
    <updated>2019-08-02T10:13:08.011Z</updated>
    
    <content type="html"><![CDATA[<p>一些 WordPress 主题，好像都是来自吾爱破解，在这里记录一下</p><a id="more"></a> <h2 id="1-betheme"><a href="#1-betheme" class="headerlink" title="1. betheme"></a>1. betheme</h2><p><a href="https://www.52pojie.cn/thread-590043-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-590043-1-1.html</a></p><h2 id="2-Begin知更鸟"><a href="#2-Begin知更鸟" class="headerlink" title="2. Begin知更鸟"></a>2. Begin知更鸟</h2><p><a href="https://www.52pojie.cn/thread-664527-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-664527-1-1.html</a></p><h2 id="3-DUX"><a href="#3-DUX" class="headerlink" title="3. DUX"></a>3. DUX</h2><p><a href="https://www.52pojie.cn/forum.php?mod=viewthread&amp;tid=832427" target="_blank" rel="noopener">https://www.52pojie.cn/forum.php?mod=viewthread&amp;tid=832427</a></p><h2 id="4-XIU"><a href="#4-XIU" class="headerlink" title="4. XIU"></a>4. XIU</h2><p><a href="https://www.52pojie.cn/thread-705661-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-705661-1-1.html</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一些 WordPress 主题，好像都是来自吾爱破解，在这里记录一下&lt;/p&gt;
    
    </summary>
    
      <category term="资源" scheme="https://blog.endureblaze.cn/categories/%E8%B5%84%E6%BA%90/"/>
    
    
      <category term="WordPress" scheme="https://blog.endureblaze.cn/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>Windows 软件推荐</title>
    <link href="https://blog.endureblaze.cn/posts/cd1c3d2a/"/>
    <id>https://blog.endureblaze.cn/posts/cd1c3d2a/</id>
    <published>2019-08-01T12:02:17.000Z</published>
    <updated>2019-09-03T14:39:35.359Z</updated>
    
    <content type="html"><![CDATA[<p>这些软件都是我自己用过的，可以通过左边页面快速定位</p><a id="more"></a> <h2 id="1-Visual-Studio-Code"><a href="#1-Visual-Studio-Code" class="headerlink" title="1. Visual Studio Code"></a>1. Visual Studio Code</h2><p>这个简直首推，编辑利器，人生苦短，我用 VS Code 完成关于文本编辑工作的一切。它天生支持几乎所有编程语言，还可以通过扩展个性化相应的语法高亮等。<br>如果你想忙里偷闲，VS Code 强大的扩展能力还能让你用它刷 LeetCode 或 V2EX，可谓带薪划水必备。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(1).png"><br>你可以在<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">官网</a>免费获取 Visual Studio Code。</p><h2 id="2-福昕-PDF-阅读器"><a href="#2-福昕-PDF-阅读器" class="headerlink" title="2. 福昕 PDF 阅读器"></a>2. 福昕 PDF 阅读器</h2><p>国产，中文界面，流畅好用，界面美观<br><a href="https://www.foxitsoftware.cn/" target="_blank" rel="noopener">点这里</a></p><h2 id="3-福昕-PDF-编辑器"><a href="#3-福昕-PDF-编辑器" class="headerlink" title="3. 福昕 PDF 编辑器"></a>3. 福昕 PDF 编辑器</h2><p>福昕（Foxit）可能是我国最受欢迎的 PDF 阅读器，由其出品的 <a href="https://www.foxitsoftware.cn/pdf-editor/" target="_blank" rel="noopener">PDF 编辑器</a> 也是 Adobe Acrobat 的有力竞争对手。它提供了各种 PDF 批注工具；支持编辑 PDF 中的文本、段落、图片；设计并填写表单；OCR 识别图片中的文字；管理 PDF 页面；转换为其它文件格式等，界面也比较友好。</p><h2 id="4-火绒安全软件"><a href="#4-火绒安全软件" class="headerlink" title="4. 火绒安全软件"></a>4. 火绒安全软件</h2><p>如果你觉得 Windows Defender 还是有些简陋，火绒安全软件是个不错的选择。它提供了病毒联网查杀、垃圾清理、下载保护、浏览器保护等国产卫士标配功能，但不会拖家带口向你问好，还你一片清净。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(2).png"><br>除了系统防护外，火绒安全软件还提供了数种实用工具，如弹窗拦截、右键菜单管理、启动项管理、文件粉碎机等。如果你是进阶用户，还可以试试火绒剑这一强大的专业安全分析工具。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(3).png"><br>你可以在 <a href="https://www.huorong.cn/" target="_blank" rel="noopener">官网</a> 免费获取火绒安全软件。</p><h2 id="5-Quicklook，仿MAC快速预览"><a href="#5-Quicklook，仿MAC快速预览" class="headerlink" title="5. Quicklook，仿MAC快速预览"></a>5. Quicklook，仿MAC快速预览</h2><p>MAC的快速预览很多人都见过，回望Win10的“预览”，依旧被抠抠唆唆地安排在窗口右侧，一点也不大气！QuickLook是一款仿MAC快速预览的小工具，装好之后，只要选中文件，按下键盘上的空格键，即可预览文件内容。</p><p>QuickLook支持文本、视频、音频、图片、压缩包、Office文档……，换句话说，你电脑上任何一款文件几乎都可以用它预览。同时你也可以点击预览窗右上角的按钮直接启动对应程序，非常方便。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(4).png"><br><a href="http://dl.pconline.com.cn/download/1115319.html" target="_blank" rel="noopener">QuickLook：点此下载</a></p><h2 id="6-升级Win10日历！优效日历"><a href="#6-升级Win10日历！优效日历" class="headerlink" title="6. 升级Win10日历！优效日历"></a>6. 升级Win10日历！优效日历</h2><p>Win10为右下角托盘设计了一个新日历，但依旧被吐槽功能太弱，优效日历是Win10原生日历的最佳替代者。它有着和Win10原生日历一致的外观界面，支持农历、节日、调休显示，支持日程提醒、万年历、自定义时钟。同时它还集成了定时关机、屏幕截图两大功能，没用过的一定得试一试！<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(5).png"><br><a href="http://www.youxiao.cn/" target="_blank" rel="noopener">点击下载</a></p><h2 id="7-Chocolatey"><a href="#7-Chocolatey" class="headerlink" title="7. Chocolatey"></a>7. Chocolatey</h2><p>Chocolatey是Windows下的包管理器，访问<a href="https://chocolatey.org/" target="_blank" rel="noopener">官网</a>来查看使用方法</p><h2 id="8-uTools"><a href="#8-uTools" class="headerlink" title="8. uTools"></a>8. uTools</h2><p>uTools是一个极简的桌面管理软件，但它的功能更全面。包含：快速启动、自动识别、数据同步等功能。</p><p>比如快速启动，这个功能和Listary、Everything等都非常相似。但uTools对中文的支持非常有好，还可以首字母检索。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(6).png"><br>除此外还有插件中心，里面还有各种比如：网页快开、在线翻译、计算器、压缩图片、图片转文字等功能。这也是其它快速启动软件所不具备的。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(7).png"><br><a href="https://u.tools/" target="_blank" rel="noopener">点击下载</a></p><h2 id="9-万彩办公大师"><a href="#9-万彩办公大师" class="headerlink" title="9. 万彩办公大师"></a>9. 万彩办公大师</h2><p>万彩办公大师可以说是一个办公必备的工具，包含了各种功能：PDF编辑、格式转换、图片编辑等，功能多达60+。</p><p>最让人惊喜的是，万彩办公大师使用完全免费，所有的工具无需安装，直接加载就可以启动了。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(8).png"><br><a href="wofficebox.com/">下载地址</a></p><h2 id="10-TreeSize"><a href="#10-TreeSize" class="headerlink" title="10. TreeSize"></a>10. TreeSize</h2><p>TreeSize 是一个扫描磁盘可视化排列大小的应用，有免费版和专业版可以选<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(9).png"><br><a href="https://www.jam-software.com/treesize_free/" target="_blank" rel="noopener">点击这里</a>获取免费版</p><h2 id="11-CCleaner"><a href="#11-CCleaner" class="headerlink" title="11. CCleaner"></a>11. CCleaner</h2><p>ccleaner，不仅是常用的垃圾和缓存清理，我也用它在电脑刚到手时卸载掉win10自带的各种无用软件（有些Windows不让卸载的自带uwp，在ccleaner里可以卸载掉），甚至我嫌onedrive麻烦，也用它卸载过。界面很友好。批量卸载比手动卸载方便不少。软件是有中文的，但默认是英文，自己手动在options-setting-language选择Chinese simplified即可<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(10).png"><br><a href="https://www.ccleaner.com/ccleaner/download" target="_blank" rel="noopener">点击下载</a></p><h2 id="12-BandiZip"><a href="#12-BandiZip" class="headerlink" title="12. BandiZip"></a>12. BandiZip</h2><p>BandiZip，界面美观，功能强大，而且免费无广告，另外<a href="https://www.7-zip.org/" target="_blank" rel="noopener">7-Zip</a>，界面丑了一些，功能还是很强的。也有不少人推荐修改版的rar烈火或者好压，其实都不错。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(11).png"><br><a href="http://www.bandisoft.com/bandizip/cn/" target="_blank" rel="noopener">下载地址</a></p><h2 id="13-Obs-Open-Broadcaster-Software"><a href="#13-Obs-Open-Broadcaster-Software" class="headerlink" title="13. Obs-Open Broadcaster Software"></a>13. Obs-Open Broadcaster Software</h2><p>obs，不用多说了，剪视频、录游戏好帮手。<br><a href="https://obsproject.com/" target="_blank" rel="noopener">下载地址</a></p><h2 id="14-VLC-media-player"><a href="#14-VLC-media-player" class="headerlink" title="14. VLC media player"></a>14. VLC media player</h2><p>跨平台的播放器，Linux的时候一直用的，Windows也就接着用了，有浏览器插件，可以直接把浏览器的视频推过来播放<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(12).png"><br><a href="https://www.videolan.org/" target="_blank" rel="noopener">点这里下载</a></p><h2 id="15-Geek-Uninstaller"><a href="#15-Geek-Uninstaller" class="headerlink" title="15. Geek Uninstaller"></a>15. Geek Uninstaller</h2><p>Geek Uninstaller 是一个专业卸载软件，采取深而快的扫描方式，删除所有无用的文件，注册表，卸载无残留！<br>这款软件也是一款单文件软件，下载后，不用安装，双击直接使用，卸载软件、强制彻底清除软件残留垃圾文件或是查看某软件的注册表项目等等。<br><img alt="enter description here" data-src="/blog_image/Windows%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/(13).png"><br>你可以在他的<a href="https://geekuninstaller.com/" target="_blank" rel="noopener">官网</a>获取到</p><h2 id="未完"><a href="#未完" class="headerlink" title="未完"></a>未完</h2><p>后面想到了再补充</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这些软件都是我自己用过的，可以通过左边页面快速定位&lt;/p&gt;
    
    </summary>
    
      <category term="资源" scheme="https://blog.endureblaze.cn/categories/%E8%B5%84%E6%BA%90/"/>
    
    
      <category term="Windows" scheme="https://blog.endureblaze.cn/tags/Windows/"/>
    
      <category term="软件推荐" scheme="https://blog.endureblaze.cn/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
  <entry>
    <title>记一次 WordPress 搭建与宝塔面板配置</title>
    <link href="https://blog.endureblaze.cn/posts/75f0fab2/"/>
    <id>https://blog.endureblaze.cn/posts/75f0fab2/</id>
    <published>2019-08-01T08:01:26.000Z</published>
    <updated>2019-09-03T14:26:15.455Z</updated>
    
    <content type="html"><![CDATA[<p>WordPress 可能是比较好用的博客系统了，当然改一下做个非博客应该也可以。当然是需要服务器的，想我这种用 Hexo 配合 Github Page 当然是用不起的了，不过前段时间帮朋友搞了一下，就在这里记录一下过程了</p><a id="more"></a> <h2 id="1-准备"><a href="#1-准备" class="headerlink" title="1. 准备"></a>1. 准备</h2><h3 id="1-1-选择服务器"><a href="#1-1-选择服务器" class="headerlink" title="1.1 选择服务器"></a>1.1 选择服务器</h3><p>首先服务器用的是阿里云的轻量应用服务器，因为比较便宜，<a href="https://common-buy.aliyun.com/?commodityCode=swas&regionId=cn-hongkong&userCode=3xwlzuab#/buy" target="_blank" rel="noopener">点击这里</a>可以查看价格和配置。当然这里就不测试了，因为价格在这里摆着，还要什么自行车。</p><h3 id="1-2下载-WordPress-文件"><a href="#1-2下载-WordPress-文件" class="headerlink" title="1.2下载 WordPress 文件"></a>1.2下载 WordPress 文件</h3><p>访问<a href="https://cn.wordpress.org/download/" target="_blank" rel="noopener">https://cn.wordpress.org/download/</a><br>然后点击<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(1).png"><br>下载到你能方便找到的地方就好了</p><h2 id="2-系统和面板"><a href="#2-系统和面板" class="headerlink" title="2. 系统和面板"></a>2. 系统和面板</h2><p>然后我选择的是 CentOS 然后装的宝塔面板，<a href="https://bt.cn/" target="_blank" rel="noopener">点击查看</a>宝塔的面板，免费版也够用</p><h2 id="3-SSH到服务器"><a href="#3-SSH到服务器" class="headerlink" title="3. SSH到服务器"></a>3. SSH到服务器</h2><h3 id="3-1-开启端口"><a href="#3-1-开启端口" class="headerlink" title="3.1 开启端口"></a>3.1 开启端口</h3><p>看这个页面即可<a href="https://www.bt.cn/bbs/thread-19376-1-1.html" target="_blank" rel="noopener">https://www.bt.cn/bbs/thread-19376-1-1.html</a><br>推荐打开所有端口，因为宝塔面板也有防火墙</p><h3 id="3-2-SSH-配置"><a href="#3-2-SSH-配置" class="headerlink" title="3.2 SSH 配置"></a>3.2 SSH 配置</h3><p>首先要到轻量应用服务器的<a href="https://swas.console.aliyun.com" target="_blank" rel="noopener">控制面板</a>然后点击你的服务器<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(2).png"><br>点进去后再转到远程连接<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(3).png"><br>选择这里任何一种都可以，没有任何影响<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(4).png"><br>那么我这里是用的第三种，也就是用账号密码来连接。</p><h3 id="3-3-SSH-客户端"><a href="#3-3-SSH-客户端" class="headerlink" title="3.3 SSH 客户端"></a>3.3 SSH 客户端</h3><p>因为用账号密码的话，是要用本地客户端连接的，那么这里推荐使用<a href="http://www.hostbuf.com/t/988.html" target="_blank" rel="noopener">FinalShel</a>来连接，国人制作，有免费版本，中文界面，支持 Windows,macOS,Linux<br>点金网址后选择你系统对应的链接就可以下载了<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(5).png"></p><p>下载安装后打开就可以看到界面了</p><p>然后点击这个按钮<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(6).png"><br>然后点击<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(7).png"><br>就可以添加一个连接了</p><p>在这里输入服务器的名字，ip，用户名，密码，然后保存再双击刚才添加的就可以连接了<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(8).png"></p><h2 id="4-安装面板"><a href="#4-安装面板" class="headerlink" title="4. 安装面板"></a>4. 安装面板</h2><p>安装很简单，一行命令就搞定了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure><p>如果是 Ubuntu 用这个命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure><p>Debian 系统的用这个</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>Fedora 系统用这个</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>怎么样，是不是很简单，后面都是自动化的安装了。当然我只使用过 CentOS，所以下面的还用 CentOS举例</p><p>安装完毕后会有一段提示，里面有访问面板的地址和默认的用户名还有密码，当然随后都可以改</p><h2 id="5-登录面板"><a href="#5-登录面板" class="headerlink" title="5. 登录面板"></a>5. 登录面板</h2><p>进入面板登录后会选择安装一些东西，这里推荐使用编译安装，虽然费时间但是很稳定。<br>现在，喝杯咖啡看看书，或者小睡一会儿，这个过程可能需要3-4个小时</p><h2 id="6-解析域名"><a href="#6-解析域名" class="headerlink" title="6. 解析域名"></a>6. 解析域名</h2><p>现在，你的面板应该已经部署好了，那下一步就是解析域名了，这里假设你已经完成了域名的更改，我使用的是腾讯云提供的解析服务演示，当然阿里云或者其他服务商也会有。<br>访问<a href="https://console.cloud.tencent.com/cns" target="_blank" rel="noopener">https://console.cloud.tencent.com/cns</a>登录腾讯云配置解析</p><h3 id="6-1-绑定域名"><a href="#6-1-绑定域名" class="headerlink" title="6.1 绑定域名"></a>6.1 绑定域名</h3><p>点击<strong>添加域名</strong>然后输入你的域名，比如输入 ljbaidu.com <del>当然这个要填你的域名，我只是吐槽一下百度</del>然后点击确定就可以了</p><h3 id="6-2-配置DNS"><a href="#6-2-配置DNS" class="headerlink" title="6.2 配置DNS"></a>6.2 配置DNS</h3><p>添加域名后如果<strong>解析状态</strong>提示异常的话就可能是 DNS 的问题，需要去注册商哪里讲 DNS 修改为</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f1g1ns1.dnspod.net</span><br><span class="line">f1g1ns2.dnspod.net</span><br></pre></td></tr></table></figure><p>然后等待最多72小时就可以了</p><h3 id="6-3添加解析"><a href="#6-3添加解析" class="headerlink" title="6.3添加解析"></a>6.3添加解析</h3><p>看到这里说明你的 DNS 已经没问题了，现在点击操作栏的<strong>解析</strong>，进去之后点击上面的添加记录。<br><strong>主机记录</strong>选择 @ 这一项就可以了，<strong>记录类型</strong>选择 A ，<strong>记录值</strong>填入你的服务器IP<br>最后点击保存，稍作等待，这个过程需要十分钟才能生效<del>当然如果你是氪金用户当我没说</del></p><h2 id="7正式开始部署-WordPress"><a href="#7正式开始部署-WordPress" class="headerlink" title="7正式开始部署 WordPress"></a>7正式开始部署 WordPress</h2><h3 id="7-1添加站点"><a href="#7-1添加站点" class="headerlink" title="7.1添加站点"></a>7.1添加站点</h3><p>现在登录你的宝塔面板，在侧边栏找到<strong>网站</strong>，点击后选择<strong>添加站点</strong><br>然后这样填<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(9).png"><br><del>再次声明，ljbaidu.com只是调侃，请填写自己的域名</del><br>然后点击<strong>提交</strong></p><h3 id="7-2添加数据库"><a href="#7-2添加数据库" class="headerlink" title="7.2添加数据库"></a>7.2添加数据库</h3><p>然后选择侧边栏的<strong>数据库</strong>，然后选择<strong>添加数据库</strong><br>填写数据库名称，用户名和密码，选择访问权限然后选择提交，如图(注意看箭头所指的选项)<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(10).png"></p><h3 id="7-3修改-WordPress-配置"><a href="#7-3修改-WordPress-配置" class="headerlink" title="7.3修改 WordPress 配置"></a>7.3修改 WordPress 配置</h3><p>解压刚开始下载的 wordpress-5.2.2.zip ，然后解压到一个文件夹中。<br>找到 wp-config-sample.php 并重命名为 wp-config.php ，然后使用文本编辑器或其他打开 wp-config.php。<br>找到</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ** MySQL settings - You can get this info from your web host ** //</span></span><br><span class="line"><span class="comment">/** The name of the database for WordPress */</span></span><br><span class="line">define( <span class="string">'DB_NAME'</span>, <span class="string">'database_name_here'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL database username */</span></span><br><span class="line">define( <span class="string">'DB_USER'</span>, <span class="string">'username_here'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL database password */</span></span><br><span class="line">define( <span class="string">'DB_PASSWORD'</span>, <span class="string">'password_here'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL hostname */</span></span><br><span class="line">define( <span class="string">'DB_HOST'</span>, <span class="string">'localhost'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Database Charset to use in creating database tables. */</span></span><br><span class="line">define( <span class="string">'DB_CHARSET'</span>, <span class="string">'utf8'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** The Database Collate type. Don't change this if in doubt. */</span></span><br><span class="line">define( <span class="string">'DB_COLLATE'</span>, <span class="string">''</span> );</span><br></pre></td></tr></table></figure><p>修改为</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ** MySQL settings - You can get this info from your web host ** //</span></span><br><span class="line"><span class="comment">/** The name of the database for WordPress */</span></span><br><span class="line">define( <span class="string">'DB_NAME'</span>, <span class="string">'wordpress'</span> );<span class="comment">//这里填入刚才创建数据库时数据库名称</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL database username */</span></span><br><span class="line">define( <span class="string">'DB_USER'</span>, <span class="string">'wordpress'</span> );<span class="comment">//这里填入刚才创建数据库时的用户名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL database password */</span></span><br><span class="line">define( <span class="string">'DB_PASSWORD'</span>, <span class="string">'password'</span> );<span class="comment">//这里填入刚才创建数据库时的密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** MySQL hostname */</span></span><br><span class="line">define( <span class="string">'DB_HOST'</span>, <span class="string">'localhost'</span> );<span class="comment">//这个和下面三个不做修改</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** Database Charset to use in creating database tables. */</span></span><br><span class="line">define( <span class="string">'DB_CHARSET'</span>, <span class="string">'utf8'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** The Database Collate type. Don't change this if in doubt. */</span></span><br><span class="line">define( <span class="string">'DB_COLLATE'</span>, <span class="string">''</span> );</span><br></pre></td></tr></table></figure><p>保存文件并退出</p><p>返回上一目录，压缩这个文件夹<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(11).png"></p><h3 id="7-4上传-WordPress"><a href="#7-4上传-WordPress" class="headerlink" title="7.4上传 WordPress"></a>7.4上传 WordPress</h3><p>打开宝塔面板，选择网站<br>点击根目录那一栏下面的文字，也就是<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(12).png"><br>然后选择<strong>上传</strong>，再点击<strong>选择文件</strong>，然后找到刚才打包的文件<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(13).png"><br>点击<strong>开始上传</strong>，等待即可</p><h3 id="7-5解压"><a href="#7-5解压" class="headerlink" title="7.5解压"></a>7.5解压</h3><p>点击这个选项，然后直接确定即可解压<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(14).png"></p><p>现在访问 你的域名/wp-admin/install.php 就可以开始安装了，比如 <a href="http://ljbaidu.com/wp-admin/install.php" target="_blank" rel="noopener">http://ljbaidu.com/wp-admin/install.php</a> <del>再次，我没有这个域名，所以下来用我的域名做演示</del></p><p>访问之后可以看到这个界面<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(15).png"><br>根据图上的注释填写，然后点击就可以安装了</p><p>在这里点击Log In<br><img alt="enter description here" data-src="/blog_image/%E6%90%AD%E5%BB%BA/(16).png"></p><p>在下一个页面登录即可</p><h2 id="8-结束"><a href="#8-结束" class="headerlink" title="8. 结束"></a>8. 结束</h2><p>至此，所有安装过程已经完成，现在就可以开始使用了</p><p>如果在安装过程中有什么问题可以通过博客主页的联系方式联系我，或者在下面留下你的评论</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;WordPress 可能是比较好用的博客系统了，当然改一下做个非博客应该也可以。当然是需要服务器的，想我这种用 Hexo 配合 Github Page 当然是用不起的了，不过前段时间帮朋友搞了一下，就在这里记录一下过程了&lt;/p&gt;
    
    </summary>
    
      <category term="技术记录" scheme="https://blog.endureblaze.cn/categories/%E6%8A%80%E6%9C%AF%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="网站搭建" scheme="https://blog.endureblaze.cn/tags/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    
      <category term="WordPress" scheme="https://blog.endureblaze.cn/tags/WordPress/"/>
    
      <category term="宝塔面板" scheme="https://blog.endureblaze.cn/tags/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>如何优雅的使用 Material Design 2</title>
    <link href="https://blog.endureblaze.cn/posts/9cb48aa5/"/>
    <id>https://blog.endureblaze.cn/posts/9cb48aa5/</id>
    <published>2019-07-30T16:38:57.000Z</published>
    <updated>2019-08-02T11:50:22.108Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p>Material Design 2 (下面简称 MD2 )已经发布了一段时间了，可是还有一些小伙伴不知道怎么迁移到 MD2 来，我也是查了不少资料才摸索出来的        </p><a id="more"></a> <h2 id="2-AndroidX"><a href="#2-AndroidX" class="headerlink" title="2. AndroidX"></a>2. AndroidX</h2><p>首先，需要迁移到 AndroidX 来，这个网上有很多教程了，AS 和 IDEA 也有相关的功能，这里就不赘述了        </p><h2 id="3-修改主题"><a href="#3-修改主题" class="headerlink" title="3. 修改主题"></a>3. 修改主题</h2><p>然后，需要修改 styles.xml 中的内容了，修改你之前的主题为</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=<span class="string">"AppTheme"</span> parent=<span class="string">"Theme.MaterialComponents.Light.NoActionBar"</span>&gt;<span class="string">"</span></span><br></pre></td></tr></table></figure><p>当然还有其他可选的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Theme.MaterialComponents</span><br><span class="line">Theme.MaterialComponents.Light</span><br><span class="line">Theme.MaterialComponents.NoActionBar</span><br><span class="line">Theme.MaterialComponents.Light.NoActionBar</span><br><span class="line">Theme.MaterialComponents.Light.DarkActionBar</span><br></pre></td></tr></table></figure><p>如果只想对 Material  组件生效那就用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Theme.MaterialComponents.Bridge</span><br><span class="line">Theme.MaterialComponents.Light.Bridge</span><br><span class="line">Theme.MaterialComponents.NoActionBar.Bridge</span><br><span class="line">Theme.MaterialComponents.Light.NoActionBar.Bridge</span><br><span class="line">Theme.MaterialComponents.Light.DarkActionBar.Bridge</span><br></pre></td></tr></table></figure><p>仅仅是这一个操作就完成了大部分任务了，现在编译就可以看到一些新特性了<br>不过肯定没有这么简单，所以这里来讲解一些坑</p><h2 id="4-开始踩坑"><a href="#4-开始踩坑" class="headerlink" title="4. 开始踩坑"></a>4. 开始踩坑</h2><h3 id="4-1-FloatingActionButton颜色问题"><a href="#4-1-FloatingActionButton颜色问题" class="headerlink" title="4.1 FloatingActionButton颜色问题"></a>4.1 FloatingActionButton颜色问题</h3><p>对，你没看错，MD2 默认的 FAB 颜色有一点问题<br>默认情况下背景色不是主题的强调色，图标的颜色也是黑的，很丑，那么怎么解决呢？<br>很简单，添加</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app:backgroundTint=<span class="string">"?attr/colorAccent"</span></span><br><span class="line">app:tint=<span class="string">"@android:color/white"</span></span><br></pre></td></tr></table></figure><p>这两行到 FAB的属性，即</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;com.google.android.material.floatingactionbutton.FloatingActionButton</span><br><span class="line">android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">android:id=<span class="string">"@+id/fab_chat_edit"</span></span><br><span class="line">        app:backgroundTint=<span class="string">"?attr/colorAccent"</span></span><br><span class="line">        app:tint=<span class="string">"@android:color/white"</span>/&gt;</span><br></pre></td></tr></table></figure><p>这样就完成啦，背景色是主题的强调色，图标是白色，就和以前的一样了，当然也可以修改为其他的颜色</p><h3 id="4-2布局的-Design-界面不能预览"><a href="#4-2布局的-Design-界面不能预览" class="headerlink" title="4.2布局的 Design 界面不能预览"></a>4.2布局的 Design 界面不能预览</h3><p>这个就比较麻烦了，好像只有第一次启动ide的时候能正常看到布局，过一会就无法预览了，提示异常，感觉是个bug，临时的解决办法就是修改主题，xml布局界面上边修改主题为旧版本的即可，这样改以后布局可以看，只是 material 的效果都没了，很难受</p><p>还有一种办法，参考 <a href="https://stackoverflow.com/questions/55791884/cannot-render-materialbutton-with-android-material1-1-x" target="_blank" rel="noopener">stackoverflow</a> 比较简单的办法,添加一个预览的style</p><p>最后还有一种说是 Android Studio 3.5 修复了，不过我是 IDEA 就不太清楚了</p><h2 id="5-待续"><a href="#5-待续" class="headerlink" title="5. 待续"></a>5. 待续</h2><p>暂时遇到这些，后面还有的话也记录上来</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-简介&quot;&gt;&lt;a href=&quot;#1-简介&quot; class=&quot;headerlink&quot; title=&quot;1. 简介&quot;&gt;&lt;/a&gt;1. 简介&lt;/h2&gt;&lt;p&gt;Material Design 2 (下面简称 MD2 )已经发布了一段时间了，可是还有一些小伙伴不知道怎么迁移到 MD2 来，我也是查了不少资料才摸索出来的        &lt;/p&gt;
    
    </summary>
    
      <category term="编程" scheme="https://blog.endureblaze.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="踩坑" scheme="https://blog.endureblaze.cn/tags/%E8%B8%A9%E5%9D%91/"/>
    
      <category term="Android" scheme="https://blog.endureblaze.cn/tags/Android/"/>
    
      <category term="Material Design 2" scheme="https://blog.endureblaze.cn/tags/Material-Design-2/"/>
    
  </entry>
  
  <entry>
    <title>Kirby Assistant 1.x.x更新日志</title>
    <link href="https://blog.endureblaze.cn/posts/12e7f5da/"/>
    <id>https://blog.endureblaze.cn/posts/12e7f5da/</id>
    <published>2019-07-30T08:44:24.000Z</published>
    <updated>2019-08-07T13:22:26.228Z</updated>
    
    <content type="html"><![CDATA[<h4 id="v1-4-5-48"><a href="#v1-4-5-48" class="headerlink" title="v1.4.5(48)"></a>v1.4.5(48)</h4><p>1.修复登录时用户名不变的bug<br>2.旧版本已经不能下载模拟器 请更新<br>3.修复闲聊发送失败的问题</p><a id="more"></a> <h4 id="v1-4-4-47"><a href="#v1-4-4-47" class="headerlink" title="v1.4.4(47)"></a>v1.4.4(47)</h4><p>1.根据 Material Design 2 重新调整的界面<br>2.重新调整的配色<br>3.贡献者名单更新</p><h4 id="v1-4-3-46"><a href="#v1-4-3-46" class="headerlink" title="v1.4.3(46)"></a>v1.4.3(46)</h4><p>1.优化apk体积<br>2.优化图片显示<br>3.bug修复</p><h4 id="v1-4-2-45"><a href="#v1-4-2-45" class="headerlink" title="v1.4.2(45)"></a>v1.4.2(45)</h4><p>1.修改游戏详情界面<br>2.修正动画逻辑<br>3.模拟器下载等等，最近没钱</p><h4 id="v1-4-1-44"><a href="#v1-4-1-44" class="headerlink" title="v1.4.1(44)"></a>v1.4.1(44)</h4><p>1.迁移AndroidX构建<br>2.恢复除用户头像和模拟器下载的所有功能<br>3.史诗级压缩<br>4.修复切换视图时闪退的bug<br>5.修复图标问题<br>6.调整了图片显示大小</p><h4 id="v1-4-0-43"><a href="#v1-4-0-43" class="headerlink" title="v1.4.0(43)"></a>v1.4.0(43)</h4><p>1.重回2017</p><h4 id="v1-3-9-42"><a href="#v1-3-9-42" class="headerlink" title="v1.3.9(42)"></a>v1.3.9(42)</h4><p>1.替换下拉刷新为 Material Design 样式<br>2.调整部分UI<br>3.也许修复了bug</p><h4 id="v1-3-8-41"><a href="#v1-3-8-41" class="headerlink" title="v1.3.8(41)"></a>v1.3.8(41)</h4><p>1.现在登录登出不会再重启app了<br>2.现在修改头像也不会重启app了<br>3.修改了底栏的效果</p><h4 id="v1-3-7-40"><a href="#v1-3-7-40" class="headerlink" title="v1.3.7(40)"></a>v1.3.7(40)</h4><p>1.新增Telegarm频道联系方式<br>2.使用Shortcut特性<br>3.统一了应用内部分图片风格<br>4.移除无用资源<br>5.修复了一个资源问题<br>6.1儿童节快乐</p><h4 id="v1-3-6-39"><a href="#v1-3-6-39" class="headerlink" title="v1.3.6(39)"></a>v1.3.6(39)</h4><p>1.修复自适应图标<br>2.修复闲聊保存机制<br>3.使用新方法优化了所有数据结构<br>4.闲聊部分界面重构<br>5.优化列表动画<br>6.优化进入游戏详情动画</p><h4 id="v1-3-5-38"><a href="#v1-3-5-38" class="headerlink" title="v1.3.5(38)"></a>v1.3.5(38)</h4><p>1.修复编辑闲聊时退出会进行保存的bug<br>2.新增花里胡哨的列表，大部分图片模糊后作为背景<br>3.重写游戏下载页面<br>4.新的图标感谢@hk流星<br>5.新的宣传图感谢@梁月信乃<br>6.新的模糊逻辑，从在线模糊改为离线模糊(可能加大缓存大小但是减少流量损耗)<br>7.修改部分动画效果<br>8.大幅提升启动速度，至少缩减1500ms(1.5s)<br>9.bang15便士<br>10.修复可能存在的bug</p><h4 id="v1-3-4-37"><a href="#v1-3-4-37" class="headerlink" title="v1.3.4(37)"></a>v1.3.4(37)</h4><p>1.调整闲聊列表配色<br>2.修复编辑当前闲聊时不会自动填充的问题<br>3.调整登录界面布局<br>4.移除闲聊发送显示随机id</p><h4 id="v1-3-3-36"><a href="#v1-3-3-36" class="headerlink" title="v1.3.3(36)"></a>v1.3.3(36)</h4><p>1.更改选择头像图片的逻辑<br>2.修改部分界面配色<br>3.FAQ部分修复</p><h4 id="v1-3-2-35"><a href="#v1-3-2-35" class="headerlink" title="v1.3.2(35)"></a>v1.3.2(35)</h4><p>1.修复白屏bug(测试性，不保证)<br>2.迁移部分资源服务器<br>3.修正支付宝捐赠逻辑</p><h4 id="v1-3-1-34"><a href="#v1-3-1-34" class="headerlink" title="v1.3.1(34)"></a>v1.3.1(34)</h4><p>1.修复无法更换头像的问题<br>2.修复更新时标题栏有误的问题</p><h4 id="v1-3-0-33"><a href="#v1-3-0-33" class="headerlink" title="v1.3.0(33)"></a>v1.3.0(33)</h4><p>1.新增版权信息确认<br>2.更正贡献者列表 保证每个贡献者都可以有一个页面访问<br>3.修复部分资源无法访问的问题</p><h4 id="v1-2-9-32"><a href="#v1-2-9-32" class="headerlink" title="v1.2.9(32)"></a>v1.2.9(32)</h4><p>1.修改了包名重新上架<br>2.修正了捐赠页面<br>3.官网域名更新 请查看简介<br>4.修复bug</p><h4 id="v1-2-8-31"><a href="#v1-2-8-31" class="headerlink" title="v1.2.8(31)"></a>v1.2.8(31)</h4><p>1.更新贡献者列表<br>2.修正了图标<br>3.修复上下文获取异常问题<br>4.修复无法检测更新问题</p><h4 id="v1-2-7-30"><a href="#v1-2-7-30" class="headerlink" title="v1.2.7(30)"></a>v1.2.7(30)</h4><p>1.[非]全新图标<br>2.移除了双图标模式<br>3.修订了部分翻译<br>4.新增[极简模式]隐藏你不需要的<br>5.修复部分资源无法访问的问题</p><h4 id="v1-2-6-29"><a href="#v1-2-6-29" class="headerlink" title="v1.2.6(29)"></a>v1.2.6(29)</h4><p>1.新增更新检测，有新版时会提醒更新<br>2.FAQ修正，翻译版本尚在修复中<br>3.英文翻译修正<br>4.翻译中文翻译修正<br>5.贡献者名单修正<br>6.修复wii模拟器版本问题</p><h4 id="v1-2-5-28"><a href="#v1-2-5-28" class="headerlink" title="v1.2.5(28)"></a>v1.2.5(28)</h4><p>1.繁体中文翻译修正<br>2.解决闲聊发送异常问题<br>3.添加Android绿色应用公约标识</p><h4 id="v1-2-4-27"><a href="#v1-2-4-27" class="headerlink" title="v1.2.4(27)"></a>v1.2.4(27)</h4><p>1.史诗级压缩有木有<br>2.移除了存储访问权限<br>3.修复无法进入更换头像的bug<br>4.重写头像剪裁<br>5.繁体中文翻译修订<br>6.更换关于为设置<br>7.将切换图标移动到设置界面<br>8.修订设置界面内容<br>9.Kirby Assistant正在申请Android绿色应用公约<br>10.使用了绿色公约的相关sdk</p><h4 id="v1-2-3-26"><a href="#v1-2-3-26" class="headerlink" title="v1.2.3(26)"></a>v1.2.3(26)</h4><p>1.修复了金手指界面无法进入的问题<br>2.修改了下拉刷新动画<br>3.修复屏幕旋转后数据丢失问题</p><h4 id="v1-2-2-25"><a href="#v1-2-2-25" class="headerlink" title="v1.2.2(25)"></a>v1.2.2(25)</h4><p>1.修复部分手机无法启动的问题<br>2.移除启动界面动画</p><h4 id="v1-2-1-24"><a href="#v1-2-1-24" class="headerlink" title="v1.2.1(24)"></a>v1.2.1(24)</h4><p>本周，kirby AssistantAssistant迎来了重大版本更新，请务必更新，否则在旧版本中无法正常使用一些功能，快来看看吧:<br>1.重写闲聊<br>2.迁移服务器，旧版本将无法访问<br>3.重写底层，优化性能，解决历史遗留问题<br>4.抱歉各位丢失了闲聊数据<br>5.字符串修订<br>6.使用PBF<br>7.主界面切换动画修改</p><h4 id="v1-2-23"><a href="#v1-2-23" class="headerlink" title="v1.2(23)"></a>v1.2(23)</h4><p>本周，Kirby Assistant迎来了重大版本更新，快来看看吧:<br>1.优化了启动动画，现在更顺畅了<br>2.更换了头像占位图<br>3.更换了发送闲聊等界面的点击效果<br>4.移除了双图标在启动界面显示<br>5.更换了权限申请逻辑<br>6.重写了统计逻辑<br>7.修订了大部分翻译<br>8.修复需要为非简体中文，繁体中文，英文时的应用名错乱问题<br>9.修复了需要切换无效的问题<br>10.圣诞快乐</p><h4 id="v1-1-22"><a href="#v1-1-22" class="headerlink" title="v1.1(22)"></a>v1.1(22)</h4><p>本周，Kirby Assistant迎来了小版本迭代更新，快来看看吧:<br>1.优化所有主题配色<br>2.移除引起bug的暗色<br>3.新增配色  灵感来源自虚无<br>4.闲聊提醒优化<br>5.资源界面重写<br>6.翻译修订</p><h4 id="v1-0-21"><a href="#v1-0-21" class="headerlink" title="v1.0(21)"></a>v1.0(21)</h4><p>未来·炫动  重大版本更新<br>1.全新启动界面动画<br>2.全新列表加载动画<br>3.全新刷新动画<br>4.全新律动动画<br>5.全新切换动画<br>6.微调下载游戏UI<br>7.全新模糊图算法<br>8.新增统计SDK(不会收集您的隐私数据)<br>9.更换图标切换逻辑<br>10.Pie适配性<br>11.捐赠逻辑修改<br>12.底栏切换界面逻辑修改 防止在同一个界面重载<br>13.所有动画全部精心设计 保证赏心悦目<br>14.资源名称修订<br>15.翻译修订<br>16.资源链接修复<br>17.模拟器下载修复<br>18.金手指个别代码修复<br>19.视频修订<br>20.slogan修订</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;v1-4-5-48&quot;&gt;&lt;a href=&quot;#v1-4-5-48&quot; class=&quot;headerlink&quot; title=&quot;v1.4.5(48)&quot;&gt;&lt;/a&gt;v1.4.5(48)&lt;/h4&gt;&lt;p&gt;1.修复登录时用户名不变的bug&lt;br&gt;2.旧版本已经不能下载模拟器 请更新&lt;br&gt;3.修复闲聊发送失败的问题&lt;/p&gt;
    
    </summary>
    
      <category term="我的 Android 应用" scheme="https://blog.endureblaze.cn/categories/%E6%88%91%E7%9A%84-Android-%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="Kirby Assistant" scheme="https://blog.endureblaze.cn/tags/Kirby-Assistant/"/>
    
      <category term="更新日志" scheme="https://blog.endureblaze.cn/tags/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
</feed>
